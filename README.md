# [<img src="/img/rana_logo.png" width=140px>](https://rana.uwuzu.com)
**[Official Website](https://rana.uwuzu.com)**

uwuzu公式キャラクター「柚晴らな」の中の人(工無能)です！  
main.jsを動かすことでuwuzu上でBotとしてお話できたりします。  

## 誰？
uwuzu公式キャラクターの「柚晴らな」です。  
詳細はこちら(↓)を御覧ください！  
**[プロフィール](https://rana.uwuzu.com)**  

## 何ができるの？
一緒におしゃべりできます。(本当にそれだけ！)  
勉強をしないと達者な日本語は喋れません。  
頑張れば英語も喋れるらしいです。  
  
アカウントの操作(フォローとかいいねとか)を自分の意思ですることはまだできません。

## それぞれのファイルの役割は？
### config.json - 設定
Botならではの項目です。Botとしての設定をいじくれます。  
以下のように記述できます。(config.jsonを書き換えて使用してください)  
Bot動作中の雑な作りのログは必ず出力されます。
```json
{
    "host": "らなの使うアカウントのあるuwuzuサーバーのドメイン[文字列]",
    "api_token": "らなの使うアカウントのAPIトークン(基本的に全権限をあげれば今後のアップデートとかに対応できると思います多分きっと)[文字列]",
    "random_ueuse": "ランダムなタイミング(3分～3時間の間隔)でのつぶやき[真偽値]",
    "check_interval": "メンションやリプライが無いかの確認間隔(秒)[数字]",
    "rana_core_log": "らなの脳内の表示の有無(すごい長いのでオフをおすすめします)[真偽値]"
}
```
### core.js - 言語野
らなの言語野を担当するプログラムです。  
言われた言葉から、なんと返せばよいかを考えます。  
らなのなかで記憶と同じくらい大切です。
### main.js - 身体
uwuzuサーバーにユーズの情報を送るプログラムです。  
らなと会話するには必要不可欠です。  
### memory.db - 記憶
らなの記憶です。  
これを消すとすべてを忘れます。何も話せなくなります。  
デフォルトで自分の名前を知ってたり自己紹介とかができる人格が入っています。
### debug.js - 言語野にぶっ刺してる電極
らなと直接お話できるプログラムです。  
uwuzuを経由せずとも話せます。俗にデバッグと呼ばれる作業とかに使えます...  
言語野にぶっ刺してる電極と書いてますがそういう設定はないのでお気になさらず！  
コマンドプロンプト(Bash)から`npm run debug`で実行できます。
### replied_ids.json - 返信済みユーズのid保存庫
らながすでにリプライを送ったユーズなのかを確認するためのファイルです。  
消すと大変なことになります。

## インストール
> [!NOTE]
> 事前に`Node.js`、`npm`がインストールされていて、らなを動かす端末がインターネットに接続できる環境にある必要があります！

### 1. ダウンロード
お好きなフォルダ(ディレクトリ)にこのリポジトリをまるごとcloneするか、ダウンロードして展開(右上の`Code`から`Download Zip`)してください！  
ディレクトリに入ったら、config.jsをらなに喋ってもらいたいサーバーに合うように編集してください！  
### 2. npmで必要なライブラリをダウンロード
コマンドプロンプト(Bash)を開いて、`npm install`を入力し、らなを動かすのに必要なライブラリを導入してください！
### 3. らなを起こす
先程と同じくコマンドプロンプト(Bash)を開いて、`npm start`を入力してください！  
これでらなが起きて動くはずです！  
はじめのうちは挨拶と自己紹介くらいしかできませんが、たくさん喋ってたくさん学ばせるといずれしっかりした会話をできるようになるかも...？

## Q&A
#### Q. チャット形式で会話のキャッチボールができるの？
~~A. 残念ながら現時点ではできません。一問一答での会話(?)です。~~  
A. できるようになりました！`generateInputText(input, talkId)`関数で、talkIdを渡してあげることで誰との会話なのか記憶の保持ができるようになります。(デフォルトのmain.jsでも既に実装済みです)  
なお、`generateInputSingle(input)`を使用すると従来通りの一問一答での会話が可能です。
#### Q. らなちゃんは日本語を理解しているの？
A. していません。それっぽいことを言っているだけです...
#### Q. なんか学習させたあとに重くなるんだけどなんで？
A. らなが仮眠してるからです。記憶の整理整頓をしています。

## アセット
以下はUPULライセンスのもとでご自由にご利用いただけます！  
### らなのアイコン
<img src="/img/rana_bot_icon.png" width=64px>  

### らなのロゴ？(？)
<img src="/img/rana_logo.png" width=128px>

## ライセンス
UPULです。  
同梱のlicense.mdをご確認ください！